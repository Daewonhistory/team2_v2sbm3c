<?xml version="1.0" encoding="UTF-8"?>
 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dev.mvc.ownerhistory.OwnerHistoryDAOInter"> <!-- SB가 자동으로 구현하여 연동하는 interface -->
	<insert id="create">
		INSERT INTO ownerhistory(ownerhistoryno,  ownerno ,ip,logininfo,city,logintime)
		VALUES (ownerhistory_seq.nextval, #{ownerno}, #{ip}, #{logininfo},#{city}, sysdate)
	</insert>


	<select id="selecthistory" resultType="dev.mvc.dto.HistoryDTO">
		SELECT
			TO_CHAR(LOGINTIME, 'YYYY"년 "MM"월 "DD"일"') AS login_date,
			TO_CHAR(LOGINTIME, 'AM HH12:MI ') AS login_times,
			city,
			ip,
			logininfo
		FROM
			ownerhistory
		WHERE
			ownerno = #{ownerno}
		ORDER BY
			LOGINTIME
	</select>
</mapper>



