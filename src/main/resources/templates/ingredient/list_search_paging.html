<!DOCTYPE html>
 
<html layout:decorate="~{layout}"> <!-- layout.html 상속-->
<div layout:fragment="content">
  <div class="title_line">식재료 검색
    <span th:if="${word != null and word != ''}" th:text="|${word} ${list.size} 건|"></span> 
  </div>
  <aside class="aside_right">
    <a href="javascript: location.reload();">새로 고침</a>
  </aside>
  
  <div th:replace="~{ingredient/list_search_component::list_search_fragment}"></div>
  
  <div class="menu_line"></div>
    
    <div style="width: 80%; margin: 0px auto;">
    <form name="frm" th:object="${ingredientVO}" method="post" action="/ingredient/list_search">
      <input type="hidden" name="word" th:value="${word}">
      <div style="margin-right: 5px; width: 26%; float: left;">
        <input type="text" name="name" value="" autofocus="autofocus"
               class="form-control fom-control-sm" style="width: 100%;" placeholder="새로 추가할 재료명을 입력해주세요.">
      </div>
      <div style="width: 25%; float: left; margin-top: 3px;">
        <button type="submit" class="btn btn-secondary btn-sm">등록</button>
        <button type="button" onclick="location.href='/ingredient/list_search'" class="btn btn-secondary btn-sm">취소</button>        
      </div>
    </form>  
  </div>	 
  <table class="table table-striped" style='width: 100%;'>
    <colgroup>
      <col style='width: 10%;'/>
      <col style='width: 90%;'/>
    </colgroup>
    <tbody>
      <tr>
        <th class='th_bs'>파일</th>
        <th class='th_bs'>제목</th>
      </tr>
    
    <tr th:if="${list.size()>0}" th:each="contentsVO, status : ${list}" th:attr="onclick=|location.href='/contents/read?contentsno=${contentsVO.contentsno}&word=${word}&now_page=${now_page}'|" 
          style="cursor: pointer; height: 90px;">
      <td class="td_basic">
        <div th:if="${contentsVO.file1.endsWith('jpg') || contentsVO.file1.endsWith('JPG') || contentsVO.file1.endsWith('png') || contentsVO.file1.endsWith('PNG') || contentsVO.file1.endsWith('gif')}">
          <img th:src="@{|/contents/storage/${contentsVO.thumb1}|}" style="width: 120px; height: 90px;">
        </div>
        <div th:if="${((contentsVO.file1.endsWith('jpg') || contentsVO.file1.endsWith('JPG') || contentsVO.file1.endsWith('png') || contentsVO.file1.endsWith('PNG') || contentsVO.file1.endsWith('gif')) == false) and (contentsVO.size1 > 0)}">
          <span th:text="${contentsVO.file1}"></span>
        </div>
        <div th:if="${contentsVO.size1 == 0}">
          <img src="/contents/images/none1.png" style="width: 120px; height: 90px;">
        </div>
      </td>
      <td class="td_left">
        <span th:text="${contentsVO.title}" style="font-weight: bold;"></span><br>
        <span th:text="${contentsVO.rdate.substring(0,10)}"></span><br>      
        <span th:if="${contentsVO.content.length() > 160}"
                  th:text="|${contentsVO.content.substring(0,160)}...|"></span>
        <span th:if="${contentsVO.content.length() <= 160}"
                  th:text="|${contentsVO.content}|"></span>
        
      </td>
    </tr> 
    <tr th:if="${list.size()==0}">
      <td colspan="2" style="text-align: center; padding: 50px 0px;">관련 글이 등록되지 않았습니다.</td>
    </tr>
    </tbody>
  </table>
  <div class="bottom_menu" th:utext="${paging}"></div>



</div> 
</html>